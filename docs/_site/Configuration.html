<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

  <title>zotero-better-bibtex</title>
  <meta name="description" content="IMake Zotero effective for us LaTeX holdouts">

<!-- TODO: Create customizable favicon -->
  <!-- favicon -->
  <!-- <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#3B3535">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <meta name="theme-color" content="#BB2316"> -->

  <!-- MDL styles -->
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-red.min.css" />

  <!-- Theme Styles -->
  <link rel="stylesheet" href="/assets/css/style.css">
  <!-- Prism Styles -->
  <link rel="stylesheet" href="assets/css/prism.css">

  <style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }
  </style>
</head>

<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <!-- Variable pages to sort pages for navigation -->


<header class="mdl-layout__header mdl-layout__header--waterfall">
  <!-- Top row, always visible -->
  <div class="mdl-layout__header-row eng-navigation-row">
    <!-- Title -->
    <span class="mdl-layout-title"><a class="eng-title-a" href="/">zotero-better-bibtex</a></span>
    <div class="mdl-layout-spacer"></div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
  mdl-textfield--floating-label mdl-textfield--align-right">
      <label class="mdl-button mdl-js-button mdl-button--icon" for="waterfall-exp">
  <i class="material-icons">search</i>
  </label>
      <div class="mdl-textfield__expandable-holder">
        <input class="mdl-textfield__input" type="text" name="sample" id="waterfall-exp">
      </div>
    </div>
  </div>
  <!-- Bottom row, not visible on scroll -->
  <div class="mdl-layout__header-row eng-navigation-row">
    <div class="mdl-layout-spacer"></div>
    <!-- Navigation -->
    <nav class="mdl-navigation">
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    </nav>
  </div>
</header>
<div class="mdl-layout__drawer eng-navigation-row">
  <span class="mdl-layout-title"><a class="eng-title-a" href="/">zotero-better-bibtex</a></span>
  <nav class="mdl-navigation">
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </nav>
</div>

    <script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

ga('create', 'UA-64261422-5', 'auto');
ga('send', 'pageview');

</script>


    <main class="mdl-layout__content">
      <a name="top"></a>
      <div class="mdl-grid eng-wrapper">

   

  <div class="mdl-card__supporting-text">
    <!-- DO NOT EDIT THIS FILE ON THE GITHUB WIKI
This page is generated automatically from comments in
https://github.com/retorquere/zotero-better-bibtex/blob/master/content/Preferences.xul .
Any edits made directly in this file will be overwritten the next time it is generated.
-->

<p>The Better BibTeX Configuration can be found under the regular Zotero preferences pane, tab ‘Better Bib(La)TeX’.</p>

<p>The configuration of Better BibTeX is a little baroque compared to the standard Zotero Bib(La)TeX exporters (which only have hidden preferences). The defaults should just work, but here’s an attempt to describe what they do.</p>

<table>
  <tbody>
    <tr>
      <td><strong>Making any change here will drop your entire export cache.</strong> This is usually not a problem unless you have a really large library, but you can read about what is involved [[here</td>
      <td>Performance]].</td>
    </tr>
  </tbody>
</table>

<h2 id="citation-keys">Citation keys</h2>

<h3 id="latex-command">LaTeX command</h3>

<p>default: <code class="highlighter-rouge">"cite"</code></p>

<p>Used for drag-and-drop/quick copy citations. In the Zotero “Export” pane, choose, “Better BibTeX Quick Copy” as the default export format for quick copy, then set the desired LaTeX citation command here. If you set this to <code class="highlighter-rouge">citep</code>, drag-and-drop citations will yield <code class="highlighter-rouge">\citep{key1,key2,...}</code></p>

<h3 id="surround-pandoc-citations-with-brackets">Surround Pandoc citations with brackets</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>Surround pandoc quick-copy citations with brackets.</p>

<h3 id="citation-key-format">Citation key format</h3>

<p>default: <code class="highlighter-rouge">"​[auth][shorttitle][year]"</code></p>

<table>
  <tbody>
    <tr>
      <td>Set the pattern used to generate citation keys. The format of the keys is documented [[here</td>
      <td>Citation-Keys]].</td>
    </tr>
  </tbody>
</table>

<h3 id="force-citation-key-to-plain-text">Force citation key to plain text</h3>

<p>default: <code class="highlighter-rouge">on</code></p>

<table>
  <tbody>
    <tr>
      <td>If you have deviated from the default citation key format pattern by [[specifying your own</td>
      <td>Citation-Keys]], you may wind up with non-ASCII characters in your citation keys. You can prevent that using the <code class="highlighter-rouge">fold</code> function at the appropriate place in your pattern, but checking this checkbox will just apply <code class="highlighter-rouge">fold</code> to all your keys.</td>
    </tr>
  </tbody>
</table>

<h3 id="on-conflict-non-pinned-keys-will-be">On conflict, non-pinned keys will be</h3>

<p>default: <code class="highlighter-rouge">kept (causes key duplicates)</code></p>

<p>This determines what happens if you pin a key to a value that is already in use in a different reference but not pinned there. Neither are ideal, you just get to pick your poison. If you let BBT change the non-pinned key by adding a postfix character, the citation key changes which could be problematic for existing papers.  if you keep the non-pinned key as-is, your library now has duplicate keys.</p>

<p>Options:</p>
<ul>
  <li>postfixed (causes key changes)</li>
  <li>kept (causes key duplicates)</li>
</ul>

<h3 id="quickcopy-format">QuickCopy format</h3>

<p>default: <code class="highlighter-rouge">LaTeX</code></p>

<p>Used for drag-and-drop/quick copy citations. You can select the output format here.</p>

<p>Options:</p>
<ul>
  <li>LaTeX</li>
  <li>Cite Keys</li>
  <li>Pandoc</li>
  <li>Org-mode</li>
  <li>org-ref</li>
  <li>Atom (https://atom.io/packages/zotero-citations)</li>
  <li>GitBook</li>
  <li>Select link</li>
</ul>

<h2 id="export">Export</h2>

<h3 id="when-a-reference-has-both-a-doi-and-a-url-export">When a reference has both a DOI and a URL, export</h3>

<p>default: <code class="highlighter-rouge">both</code></p>

<p>Does what it says on the tin, really. If a reference has both a DOI and an URL, you can choose to have them both exported, or either one of them.</p>

<p>Options:</p>
<ul>
  <li>both</li>
  <li>DOI</li>
  <li>URL</li>
</ul>

<h3 id="export-unicode-as-plain-text-latex-commands">Export unicode as plain-text latex commands</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>BibLaTeX actually has really good Unicode support, so you generally want this off. But for some geezers such as me it is simply more pleasing to have things like accented characters translated to their equivalent LaTeX constructs on export.</p>

<h3 id="export-unicode-as-plain-text-latex-commands-recommended">Export unicode as plain-text latex commands (recommended)</h3>

<p>default: <code class="highlighter-rouge">on</code></p>

<p>BibTeX has really spotty Unicode support, so you generally want this on. It will translate things like accented characters to their equivalent LaTeX constructs on export.</p>

<h3 id="assume-single-word-strings-to-be-externally-defined-string-vars-and-thus-not-surrounded-by-braces">Assume single-word strings to be externally-defined @string vars, and thus not surrounded by braces</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>When enabled, single-word strings will be assumed to be externally-defined @string vars, and thus not surrounded by braces. If you don’t know what this means, leave it off.</p>

<h3 id="disregard-name-prefixes-when-sorting">Disregard name prefixes when sorting</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>Name handling is a lot more complex than I had ever thought it to be. A <em>lot</em> more complex. BibTeX has really limited ways of dealing with names with particles (van, von, de, etc). If you turn this on, BBT will add code to have <code class="highlighter-rouge">van Gogh</code> sorted under <code class="highlighter-rouge">Gogh</code>.</p>

<h3 id="fields-to-omit-from-export-comma-separated">Fields to omit from export (comma-separated)</h3>

<p>default: <code class="highlighter-rouge">""</code></p>

<p>If there are some fields you don’t want in your bibtex files (such as <code class="highlighter-rouge">note</code> for example), add a list of them here, separated by comma’s.</p>

<h3 id="add-urls-to-bibtex-export">Add URLs to BibTeX export</h3>

<p>default: <code class="highlighter-rouge">no</code></p>

<p>BibLaTeX supports urls in your references natively; BibTeX does not. For this reason, URLs are omitted from BibTeX exports by default. Using this setting you can have them added to your exports either in a <code class="highlighter-rouge">note</code> field (not as clean, but compatible with BibTeX out of the box), or in a <code class="highlighter-rouge">url</code> field (requires extra packages to be loaded, or bibtex will error out).</p>

<p>Options:</p>
<ul>
  <li>no</li>
  <li>in a note field</li>
  <li>in a URL field</li>
</ul>

<h3 id="include-jabref-specific-metadata">Include JabRef-specific metadata:</h3>

<p>default: <code class="highlighter-rouge">no</code></p>

<p>Export JabRef-specific information fields; timetamps and groups for collections.</p>

<p>Options:</p>
<ul>
  <li>no</li>
  <li>for JabRef 3</li>
  <li>for JabRef 4</li>
</ul>

<h3 id="include-comments-about-potential-problems-with-the-references">Include comments about potential problems with the references</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>Generate quality reports for exported references.</p>

<h3 id="use-biblatex-extended-name-format-requires-biblatex-35">Use BibLaTeX extended name format (requires biblatex 3.5)</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>Use the extended biber 2.7 format for names with particles - only works in BibLaTeX 3.5 or later. This biblatex has a new (less ambiguous) way to store creator names. It’s technically superior, but the LaTeX world moves slowly, so many people won’t have it yet. But if you’re an early adopter, you can enable it here</p>

<h2 id="journal-abbreviations">Journal abbreviations</h2>

<h3 id="automatically-abbreviate-journal-title-if-none-is-set-explicitly">Automatically abbreviate journal title if none is set explicitly</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>If set, generates journal abbreviations on export using the Zotero journal abbreviator, according to the abbreviation style selected in the list below the checkbox.</p>

<h2 id="automatic-export">Automatic export</h2>

<h3 id="automatic-export-1">Automatic export</h3>

<p>default: <code class="highlighter-rouge">On Change</code></p>

<table>
  <tbody>
    <tr>
      <td>Determines when [[automatic exports</td>
      <td>Push-and-Pull-Export]] are kicked off. Having it disabled still marks auto-exports as needing updates, so when you re-enable it, those exports will start. On-change means exports happen whenever a reference in the export changes/is added/is removed. On idle does more or less what <code class="highlighter-rouge">Disabled</code> (that is, no exports but mark as needing changes), but will kick off exports when your computer is idle. You mostly want this if your computer is performance-constrained (aka slow).</td>
    </tr>
  </tbody>
</table>

<p>Options:</p>
<ul>
  <li>Disabled</li>
  <li>On Change</li>
  <li>When Idle</li>
</ul>

<h2 id="advanced">Advanced</h2>

<h3 id="warn-me-when-changing-citation-keys-in-bulk">Warn me when changing citation keys in bulk</h3>

<p>default: <code class="highlighter-rouge">10</code></p>

<p>For those who are curious about what the “Clear/Generate BibTeX key” right-click options do, this will warn you if you are doing this on more than 10 (default) at the same time, to prevent your curiosity from changing all your citation keys at once.</p>

<h3 id="postscript">Postscript</h3>

<p>default: <code class="highlighter-rouge">""</code></p>

<table>
  <tbody>
    <tr>
      <td>Snippet of javascript to run [[after each reference generation</td>
      <td>Scripting]].</td>
    </tr>
  </tbody>
</table>

<h2 id="hidden-preferences">Hidden preferences</h2>

<p>The following settings are not exposed in the UI, but can be found under <code class="highlighter-rouge">Preferences</code>/<code class="highlighter-rouge">Advanced</code>/<code class="highlighter-rouge">Config editor</code>.</p>

<p>All are prefixed with <code class="highlighter-rouge">extensions.zotero.translators.better-bibtex.</code> in the table you will find there</p>

<h3 id="autoabbrevstyle">autoAbbrevStyle</h3>

<p>default: <code class="highlighter-rouge">""</code></p>

<p>Select the style for auto-abbreviation. Only applicable to Juris-M; in Zotero, the style for automatic abbreviation is not configurable.</p>

<h3 id="autoexportidlewait">autoExportIdleWait</h3>

<p>default: <code class="highlighter-rouge">10</code></p>

<p>Number of seconds to wait after your system goes idle before kicking off auto-exports.</p>

<h3 id="cacheflushinterval">cacheFlushInterval</h3>

<p>default: <code class="highlighter-rouge">5</code></p>

<p>How often the Better BibTeX database should be saved to disk. Defaults to once every 5 seconds. Note that your database is always saved when your computer goes idle, or when you exit Zotero.</p>

<h3 id="csquotes">csquotes</h3>

<p>default: <code class="highlighter-rouge">""</code></p>

<p>Enables <a href="Unnecessarily-complicated-BibTeX-output%3F#hidden-features">csquotes</a> support.</p>

<h3 id="skipwords">skipWords</h3>

<p>default: <code class="highlighter-rouge">"a,ab,aboard,about,above,across,after,against,al,along,amid,among,an,and,anti,around,as,at,before,behind,below,beneath,beside,besides,between,beyond,but,by,d,da,das,de,del,dell,dello,dei,degli,della,dell,delle,dem,den,der,des,despite,die,do,down,du,during,ein,eine,einem,einen,einer,eines,el,en,et,except,for,from,gli,i,il,in,inside,into,is,l,la,las,le,les,like,lo,los,near,nor,of,off,on,onto,or,over,past,per,plus,round,save,since,so,some,sur,than,the,through,to,toward,towards,un,una,unas,under,underneath,une,unlike,uno,unos,until,up,upon,versus,via,von,while,with,within,without,yet,zu,zum"</code></p>

<p>list of words to skip in title when generating citation keys</p>

<h3 id="jurismpreferredlanguage">jurismPreferredLanguage</h3>

<p>default: <code class="highlighter-rouge">""</code></p>

<p>When language alternates are present in Juris-M, this is the language BBT will pick.</p>

<h3 id="biblatexextendeddateformat">biblatexExtendedDateFormat</h3>

<p>default: <code class="highlighter-rouge">on</code></p>

<p>Support for EDTF dates in biblatex</p>

<h3 id="suppresstitlecase">suppressTitleCase</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>If you’re dead-set on ignoring both BibTeX/BibLaTeX best practice and the Zotero recommendations on title/sentence casing, set this preference to “true” to suppress <a href="Unnecessarily-complicated-BibTeX-output%3F#mapping-fields">title casing for English references</a>.</p>

<h3 id="itemobserverdelay">itemObserverDelay</h3>

<p>default: <code class="highlighter-rouge">100</code></p>

<p>I’ve had reports where Zotero notifies extensions that references have changed, but if BBT then actually retrieves those same references, Zotero complains they “haven’t been saved yet”. Super. This preference sets the number of microseconds BBT should wait after being notified before acting on the changed references.</p>

<h3 id="parseparticles">parseParticles</h3>

<p>default: <code class="highlighter-rouge">on</code></p>

<p>Name particle handling</p>

<h3 id="citeprocnotecitekey">citeprocNoteCitekey</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>Replaces the “note” field with the bibtex key during citation rendering in Word/Libreoffice. Main use-case is to help migrating word documents to pandoc. This setting only takes effect during startup, so if you change it, you will have to restart Zotero to have this take effect.</p>

<h3 id="scrubdatabase">scrubDatabase</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>Finds potential problems in the database and fixes those. This runs <strong>extremely</strong> slow at startup, don’t unable this unless explicitly asked to.</p>

<h3 id="lockedinit">lockedInit</h3>

<p>default: <code class="highlighter-rouge">off</code></p>

<p>BBT locks the UI during startup because I have been told in no uncertain terms I am not to touch the Zotero database before I get an all-clear from Zotero. This all-clear takes a fair amount of time. As BBT needs database access for generating keys, and <em>everything</em> in BBT depends on the keys being present, it is absolutely safest to make sure BBT initialization has completed before freeing the UI. I want to stress that during most of the lock-time, BBT is simply waiting for Zotero to complete its own initialization; try to do an export of any kind (not just BBT) or to import new references directly after Zotero has started and you’ll notice that it may take a while before Zotero reacts. The lockout just puts a face on this hidden init, and prevents nasty race conditions between the BBT and Zotero initialization leading to unpredictable breakage occasionally.</p>

<p>If you however cannot stand the lockout during startup and you want to live dangerously, you can turn this off and hope that no race conditions bite you. If you turn this on and experience problems, you are welcome to file a bug report and I will see what I can do, but be prepared for the answer to be “turn this back on for now”.</p>

<p>This is <strong>EXPERIMENTAL</strong> and this preference may disappear at any moment without notice.</p>

  </div>
</div>

    </main>

    <footer class="mdl-mini-footer">
  <div class="mdl-mini-footer__left-section">
    <div class="mdl-logo">zotero-better-bibtex</div>
    <ul class="mdl-mini-footer__link-list">
      <li><a href="#">Help</a></li>
      <li><a href="#">Privacy & Terms</a></li>
    </ul>
  </div>
  <div class="mdl-mini-footer--right-section">
    <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="#top" title="back to top" role="button">
      <i class="material-icons md-48" role="presentation">arrow_upward</i>
    </a>
  </div>
</footer>

  </div>
  <!-- Prismjs -->
  <script type="text/javascript" src=/assets/js/prism.min.js>

  </script>
  <!-- MDL Lite js -->
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <!-- Google Analytics -->
  
</body>
</html>
