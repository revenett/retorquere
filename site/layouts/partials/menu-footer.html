{{ if not (eq (len $.Site.Taxonomies.tags) 0) }}
    {{ $fontUnit := "em" }}
    {{ $largestFontSize := 1.5 }}
    {{ $smallestFontSize := 1.0 }}
    {{ $fontSpread := sub $largestFontSize $smallestFontSize }}
    {{ $max := add (len (index $.Site.Taxonomies.tags.ByCount 0).Pages) 1 }}
    {{ $min := len (index $.Site.Taxonomies.tags.ByCount.Reverse 0).Pages }}
    {{ $spread := sub $max $min }}
    {{ $fontStep := div $fontSpread $spread }}

    <div id="tag-cloud" style="padding: 5px 15px">
        {{ range $name, $taxonomy := $.Site.Taxonomies.tags }}
            {{ $currentTagCount := len $taxonomy.Pages }}
            {{ $currentFontSize := (add $smallestFontSize (mul (sub $currentTagCount $min) $fontStep) ) }}
            {{ $count := len $taxonomy.Pages }}
            {{ $weigth := div (sub (math.Log $count) (math.Log $min)) (sub (math.Log $max) (math.Log $min)) }}
            {{ $currentFontSize := (add $smallestFontSize (mul (sub $largestFontSize $smallestFontSize) $weigth) ) }}
            <!--Current font size: {{$currentFontSize}}-->
            <span style="white-space: nowrap"><a href="{{ "/tags/" | relLangURL }}{{ $name | urlize }}" style="font-size:{{$currentFontSize}}{{$fontUnit}}"><i class="fas fa-tag"></i>{{ $name }}</a></span>
        {{ end }}
    </div>
{{ end }}

<center>
    <!-- Place this tag where you want the button to render.
    <a class="github-button" href="https://github.com/retorquere/zotero-better-bibtex/releases/latest" data-icon="octicon-cloud-download" aria-label="Download Better BibTeX for Zotero">Download</a>
    -->

    <!-- Place this tag where you want the button to render. -->
    <a class="github-button" href="https://github.com/retorquere/zotero-better-bibtex" data-icon="octicon-star" data-show-count="true" aria-label="Star retorquere/zotero-better-bibtex on GitHub">Star</a>

    <!-- Place this tag where you want the button to render.
    <a class="github-button" href="https://github.com/retorquere/zotero-better-bibtex/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork retorquere/zotero-better-bibtex on GitHub">Fork</a>
    -->

    <a href="https://gitter.im/retorquere/zotero-better-bibtex?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge"><img src="https://badges.gitter.im/retorquere/zotero-better-bibtex.svg" alt="Gitter"></a>
    <a href="https://travis-ci.org/retorquere/zotero-better-bibtex"><img src="https://travis-ci.org/retorquere/zotero-better-bibtex.svg?branch=master" alt="Build Status"></a>
</center>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
